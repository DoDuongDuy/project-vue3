{"remainingRequest":"/home/duy/Documents/vue/mini-project/shopping-cart/node_modules/babel-loader/lib/index.js!/home/duy/Documents/vue/mini-project/shopping-cart/node_modules/eslint-loader/index.js??ref--13-0!/home/duy/Documents/vue/mini-project/shopping-cart/src/store/index.js","dependencies":[{"path":"/home/duy/Documents/vue/mini-project/shopping-cart/src/store/index.js","mtime":1618566082930},{"path":"/home/duy/Documents/vue/mini-project/shopping-cart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duy/Documents/vue/mini-project/shopping-cart/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/duy/Documents/vue/mini-project/shopping-cart/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvZHV5L0RvY3VtZW50cy92dWUvbWluaS1wcm9qZWN0L3Nob3BwaW5nLWNhcnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGl0ZW1zIGZyb20gIi4uL2RhdGEvaXRlbXMiOwoKZnVuY3Rpb24gdXBkYXRlTG9jYWxTdG9yYWdlKGNhcnQpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY2FydCIsIEpTT04uc3RyaW5naWZ5KGNhcnQpKTsKfQoKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBjYXJ0OiBbXSwKICAgIGl0ZW1zOiBpdGVtcwogIH0sCiAgZ2V0dGVyczogewogICAgcHJvZHVjdFF1YW50aXR5OiBmdW5jdGlvbiBwcm9kdWN0UXVhbnRpdHkoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgdmFyIGl0ZW0gPSBzdGF0ZS5jYXJ0LmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIHJldHVybiBpLmlkID09PSBwcm9kdWN0LmlkOwogICAgICAgIH0pOwogICAgICAgIGlmIChpdGVtKSByZXR1cm4gaXRlbS5xdWFudGl0eTtlbHNlIHJldHVybiBudWxsOwogICAgICB9OwogICAgfSwKICAgIGNhcnRJdGVtczogZnVuY3Rpb24gY2FydEl0ZW1zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jYXJ0OwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChzdGF0ZSwgcHJvZHVjdCkgewogICAgICB2YXIgaXRlbSA9IHN0YXRlLmNhcnQuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiBpLmlkID09PSBwcm9kdWN0LmlkOwogICAgICB9KTsKCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgaXRlbS5xdWFudGl0eSsrOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLmNhcnQucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb2R1Y3QpLCB7fSwgewogICAgICAgICAgcXVhbnRpdHk6IDEKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZShzdGF0ZS5jYXJ0KTsKICAgIH0sCiAgICByZW1vdmVGcm9tQ2FydDogZnVuY3Rpb24gcmVtb3ZlRnJvbUNhcnQoc3RhdGUsIHByb2R1Y3QpIHsKICAgICAgdmFyIGl0ZW0gPSBzdGF0ZS5jYXJ0LmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5pZCA9PT0gcHJvZHVjdC5pZDsKICAgICAgfSk7CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLnF1YW50aXR5ID4gMSkgewogICAgICAgICAgaXRlbS5xdWFudGl0eS0tOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdGF0ZS5jYXJ0ID0gc3RhdGUuY2FydC5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgcmV0dXJuIGkuaWQgIT09IHByb2R1Y3QuaWQ7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZShzdGF0ZS5jYXJ0KTsKICAgIH0sCiAgICB1cGRhdGVDYXJ0RnJvbUxvY2FsU3RvcmFnZTogZnVuY3Rpb24gdXBkYXRlQ2FydEZyb21Mb2NhbFN0b3JhZ2Uoc3RhdGUpIHsKICAgICAgdmFyIGNhcnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpOwoKICAgICAgaWYgKGNhcnQpIHsKICAgICAgICBzdGF0ZS5jYXJ0ID0gSlNPTi5wYXJzZShjYXJ0KTsKICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczoge30sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/home/duy/Documents/vue/mini-project/shopping-cart/src/store/index.js"],"names":["createStore","items","updateLocalStorage","cart","localStorage","setItem","JSON","stringify","state","getters","productQuantity","product","item","find","i","id","quantity","cartItems","mutations","addToCart","push","removeFromCart","filter","updateCartFromLocalStorage","getItem","parse","actions","modules"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,OAAOC,KAAP,MAAkB,eAAlB;;AACA,SAASC,kBAAT,CAA4BC,IAA5B,EAAkC;AAChCC,EAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA7B;AACD;;AAED,eAAeH,WAAW,CAAC;AACzBQ,EAAAA,KAAK,EAAE;AACLL,IAAAA,IAAI,EAAE,EADD;AAELF,IAAAA,KAAK,EAAEA;AAFF,GADkB;AAKzBQ,EAAAA,OAAO,EAAE;AACPC,IAAAA,eAAe,EAAE,yBAACF,KAAD;AAAA,aAAW,UAACG,OAAD,EAAa;AACvC,YAAMC,IAAI,GAAGJ,KAAK,CAACL,IAAN,CAAWU,IAAX,CAAgB,UAACC,CAAD;AAAA,iBAAOA,CAAC,CAACC,EAAF,KAASJ,OAAO,CAACI,EAAxB;AAAA,SAAhB,CAAb;AAEA,YAAIH,IAAJ,EAAU,OAAOA,IAAI,CAACI,QAAZ,CAAV,KACK,OAAO,IAAP;AACN,OALgB;AAAA,KADV;AAOPC,IAAAA,SAAS,EAAE,mBAACT,KAAD,EAAW;AACpB,aAAOA,KAAK,CAACL,IAAb;AACD;AATM,GALgB;AAgBzBe,EAAAA,SAAS,EAAE;AACTC,IAAAA,SADS,qBACCX,KADD,EACQG,OADR,EACiB;AACxB,UAAIC,IAAI,GAAGJ,KAAK,CAACL,IAAN,CAAWU,IAAX,CAAgB,UAACC,CAAD;AAAA,eAAOA,CAAC,CAACC,EAAF,KAASJ,OAAO,CAACI,EAAxB;AAAA,OAAhB,CAAX;;AAEA,UAAIH,IAAJ,EAAU;AACRA,QAAAA,IAAI,CAACI,QAAL;AACD,OAFD,MAEO;AACLR,QAAAA,KAAK,CAACL,IAAN,CAAWiB,IAAX,iCAAqBT,OAArB;AAA8BK,UAAAA,QAAQ,EAAE;AAAxC;AACD;;AAEDd,MAAAA,kBAAkB,CAACM,KAAK,CAACL,IAAP,CAAlB;AACD,KAXQ;AAYTkB,IAAAA,cAZS,0BAYMb,KAZN,EAYaG,OAZb,EAYsB;AAC7B,UAAIC,IAAI,GAAGJ,KAAK,CAACL,IAAN,CAAWU,IAAX,CAAgB,UAACC,CAAD;AAAA,eAAOA,CAAC,CAACC,EAAF,KAASJ,OAAO,CAACI,EAAxB;AAAA,OAAhB,CAAX;;AAEA,UAAIH,IAAJ,EAAU;AACR,YAAIA,IAAI,CAACI,QAAL,GAAgB,CAApB,EAAuB;AACrBJ,UAAAA,IAAI,CAACI,QAAL;AACD,SAFD,MAEO;AACLR,UAAAA,KAAK,CAACL,IAAN,GAAaK,KAAK,CAACL,IAAN,CAAWmB,MAAX,CAAkB,UAACR,CAAD;AAAA,mBAAOA,CAAC,CAACC,EAAF,KAASJ,OAAO,CAACI,EAAxB;AAAA,WAAlB,CAAb;AACD;AACF;;AAEDb,MAAAA,kBAAkB,CAACM,KAAK,CAACL,IAAP,CAAlB;AACD,KAxBQ;AAyBToB,IAAAA,0BAzBS,sCAyBkBf,KAzBlB,EAyByB;AAChC,UAAML,IAAI,GAAGC,YAAY,CAACoB,OAAb,CAAqB,MAArB,CAAb;;AACA,UAAIrB,IAAJ,EAAU;AACRK,QAAAA,KAAK,CAACL,IAAN,GAAaG,IAAI,CAACmB,KAAL,CAAWtB,IAAX,CAAb;AACD;AACF;AA9BQ,GAhBc;AAgDzBuB,EAAAA,OAAO,EAAE,EAhDgB;AAmDzBC,EAAAA,OAAO,EAAE;AAnDgB,CAAD,CAA1B","sourcesContent":["import { createStore } from \"vuex\";\nimport items from \"../data/items\"\nfunction updateLocalStorage(cart) {\n  localStorage.setItem(\"cart\", JSON.stringify(cart));\n}\n\nexport default createStore({\n  state: {\n    cart: [],\n    items: items\n  },\n  getters: {\n    productQuantity: (state) => (product) => {\n      const item = state.cart.find((i) => i.id === product.id);\n\n      if (item) return item.quantity;\n      else return null;\n    },\n    cartItems: (state) => {\n      return state.cart;\n    },\n  },\n  mutations: {\n    addToCart(state, product) {\n      let item = state.cart.find((i) => i.id === product.id);\n\n      if (item) {\n        item.quantity++;\n      } else {\n        state.cart.push({ ...product, quantity: 1 });\n      }\n\n      updateLocalStorage(state.cart);\n    },\n    removeFromCart(state, product) {\n      let item = state.cart.find((i) => i.id === product.id);\n\n      if (item) {\n        if (item.quantity > 1) {\n          item.quantity--;\n        } else {\n          state.cart = state.cart.filter((i) => i.id !== product.id);\n        }\n      }\n\n      updateLocalStorage(state.cart);\n    },\n    updateCartFromLocalStorage(state) {\n      const cart = localStorage.getItem('cart')\n      if (cart) {\n        state.cart = JSON.parse(cart)\n      }\n    }\n  },\n  actions: {\n\n  },\n  modules: {},\n});\n"]}]}